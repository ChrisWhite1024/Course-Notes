<!doctype html><html><head><title>应用层</title><base href="../../../../"><meta id="root-path" root-path="../../../../"><link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1,maximum-scale=5"><meta charset="UTF-8"><link rel="stylesheet" href="lib/styles/obsidian-styles.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="stylesheet" href="lib/styles/plugin-styles.css"><link rel="stylesheet" href="lib/styles/snippets.css"><link rel="stylesheet" href="lib/styles/generated-styles.css"><style></style><script type="module" src="lib/scripts/graph_view.js"></script><script src="lib/scripts/graph_wasm.js"></script><script src="lib/scripts/tinycolor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js" integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lib/scripts/webpage.js"></script><script src="lib/scripts/generated.js"></script></head><body class="mod-macos native-scrollbars show-inline-title outliner-plugin-dnd anp-td-none pwc-tooltips mmng-use-theme-font theme-dark ctp-latte ctp-mocha ctp-accent-rosewater anuppuccin-accent-toggle anp-no-highlight anp-h1-red anp-h2-peach anp-h3-green anp-h4-teal anp-h5-lavender anp-h6-mauve anp-bold-red anp-italic-green anp-highlight-yellow anp-default-rainbow anp-default-tab loading"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Course-Notes</span><button class="clickable-icon collapse-tree-button is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Campus</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Chinese-Notes</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">计算机科学</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">计算机网络</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Attachments</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/cable-modem.jpeg"><span class="tree-item-title">cable-modem</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/img_2980b2168caf-1.jpeg"><span class="tree-item-title">IMG_2980B2168CAF-1</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/img_b520fba50591-1.jpeg"><span class="tree-item-title">IMG_B520FBA50591-1</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/network-protocol.gif"><span class="tree-item-title">network-protocol</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231023191228.png"><span class="tree-item-title">Pasted image 20231023191228</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031145614.png"><span class="tree-item-title">Pasted image 20231031145614</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031150119.png"><span class="tree-item-title">Pasted image 20231031150119</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031150342.png"><span class="tree-item-title">Pasted image 20231031150342</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031150406.png"><span class="tree-item-title">Pasted image 20231031150406</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031152513.png"><span class="tree-item-title">Pasted image 20231031152513</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031154330.png"><span class="tree-item-title">Pasted image 20231031154330</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031154345.png"><span class="tree-item-title">Pasted image 20231031154345</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031154854.png"><span class="tree-item-title">Pasted image 20231031154854</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163253.png"><span class="tree-item-title">Pasted image 20231031163253</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163437.png"><span class="tree-item-title">Pasted image 20231031163437</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163454.png"><span class="tree-item-title">Pasted image 20231031163454</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031164531.png"><span class="tree-item-title">Pasted image 20231031164531</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031165751.png"><span class="tree-item-title">Pasted image 20231031165751</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031171140.png"><span class="tree-item-title">Pasted image 20231031171140</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101104608.png"><span class="tree-item-title">Pasted image 20231101104608</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101104900.png"><span class="tree-item-title">Pasted image 20231101104900</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101105041.png"><span class="tree-item-title">Pasted image 20231101105041</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101133831.png"><span class="tree-item-title">Pasted image 20231101133831</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163234.png"><span class="tree-item-title">Pasted image 20231101163234</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163308.png"><span class="tree-item-title">Pasted image 20231101163308</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101171957.png"><span class="tree-item-title">Pasted image 20231101171957</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101172100.png"><span class="tree-item-title">Pasted image 20231101172100</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102100948.png"><span class="tree-item-title">Pasted image 20231102100948</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103136.png"><span class="tree-item-title">Pasted image 20231102103136</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103202.png"><span class="tree-item-title">Pasted image 20231102103202</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/因特网.html"><span class="tree-item-title">因特网</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/应用层.html"><span class="tree-item-title">应用层</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/网络层-控制平面.html"><span class="tree-item-title">网络层-控制平面</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/网络层-数据平面.html"><span class="tree-item-title">网络层-数据平面</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/运输层.html"><span class="tree-item-title">运输层</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="5"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="campus/chinese-notes/计算机科学/计算机网络/链路层和局域网.html"><span class="tree-item-title">链路层和局域网</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="readme.html"><span class="tree-item-title">README</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div></div><div class="document-container show"><div class="markdown-preview-view markdown-rendered node-insert-event allow-fold-headings show-indentation-guide allow-fold-lists show-properties" style="tab-size:4"><style id="MJX-CHTML-styles">mjx-c.mjx-c1D439.TEX-I::before{padding:.68em .749em 0 0;content:"F"}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-c.mjx-c7B.TEX-S3::before{padding:1.45em .75em .949em 0;content:"{"}mjx-c.mjx-c7D.TEX-S3::before{padding:1.45em .75em .949em 0;content:"}"}mjx-c.mjx-c2265::before{padding:.636em .778em .138em 0;content:"≥"}mjx-c.mjx-c2264::before{padding:.636em .778em .138em 0;content:"≤"}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c1D446.TEX-I::before{padding:.705em .645em .022em 0;content:"S"}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c1D706.TEX-I::before{padding:.694em .583em .012em 0;content:"λ"}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D459.TEX-I::before{padding:.694em .298em .011em 0;content:"l"}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D45E.TEX-I::before{padding:.442em .46em .194em 0;content:"q"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"−"}mjx-c.mjx-c1D43F.TEX-I::before{padding:.683em .681em 0 0;content:"L"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c39::before{padding:.666em .5em .022em 0;content:"9"}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c69::before{padding:.669em .278em 0 0;content:"i"}mjx-c.mjx-c6E::before{padding:.442em .556em 0 0;content:"n"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-c.mjx-c7C::before{padding:.75em .278em .249em 0;content:"|"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-msup{display:inline-block;text-align:left}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c7B::before{padding:.75em .5em .25em 0;content:"{"}mjx-c.mjx-c7D::before{padding:.75em .5em .25em 0;content:"}"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"∗"}mjx-c.mjx-c1D437.TEX-I::before{padding:.683em .828em 0 0;content:"D"}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c3A::before{padding:.43em .278em 0 0;content:":"}mjx-c.mjx-c2208::before{padding:.54em .667em .04em 0;content:"∈"}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-mn{display:inline-block;text-align:left}mjx-c.mjx-c1D467.TEX-I::before{padding:.442em .465em .011em 0;content:"z"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-texatom{display:inline-block;text-align:left}mjx-msqrt{display:inline-block;text-align:left}mjx-root{display:inline-block;white-space:nowrap}mjx-surd{display:inline-block;vertical-align:top}mjx-sqrt{display:inline-block;padding-top:.07em}mjx-sqrt>mjx-box{border-top:.07em solid}mjx-sqrt.mjx-tall>mjx-box{padding-left:.3em;margin-left:-.3em}mjx-msub{display:inline-block;text-align:left}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c22C5::before{padding:.31em .278em 0 0;content:"⋅"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c221A::before{padding:.8em .853em .2em 0;content:"√"}mjx-c.mjx-c1D464.TEX-I::before{padding:.443em .716em .011em 0;content:"w"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c3A3::before{padding:.683em .722em 0 0;content:"Σ"}mjx-c.mjx-c1D457.TEX-I::before{padding:.661em .412em .204em 0;content:"j"}mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff")}mjx-c.mjx-c1D43A.TEX-I::before{padding:.705em .786em .022em 0;content:"G"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c1D438.TEX-I::before{padding:.68em .764em 0 0;content:"E"}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c221E::before{padding:.442em 1em .011em 0;content:"∞"}</style><div class="markdown-preview-sizer markdown-preview-section" style="min-height:13003px"><div class="markdown-preview-pusher" style="width:1px;height:.1px;margin-bottom:0"></div><div class="mod-header"></div><div class="heading-wrapper"><h1 data-heading="应用层协议原理" class="heading" id="应用层协议原理"><div class="heading-before"></div>应用层协议原理<div class="heading-after">...</div></h1><div class="heading-children"><div><ol><li data-line="0">研发网络应用程序的核心是写出能够运行在不同的端系统和通过网络彼此通信的程序</li><li data-line="1">即将应用软件限制在端系统的方法．促进了大量的网络应用程序的迅速研发和部署</li></ol></div><div class="heading-wrapper"><h2 data-heading="互联网应用程序体系结构" class="heading" id="互联网应用程序体系结构"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>互联网应用程序体系结构<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">从应用程序研发者角度看，网络体系结构是固定的，并为应用程序提供了特定的服务集合</li><li data-line="1">应用程序体系结构 (application architecture) ：由应用程序研发者设计，规定了如何在各端系统上组织该应用程序</li></ol></div><div class="heading-wrapper"><h3 data-heading="客户-服务器 (client-server)" class="heading" id="客户-服务器_(client-server)"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>客户-服务器 (client-server)<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">总是打开的主机——服务器，它服务于来自许多其他称为客户的主机的请求</li><li data-line="1">服务器具有固定周知的 IP 地址</li><li data-line="2">著名应用程序<ol><li data-line="3">Web</li><li data-line="4">FTP</li><li data-line="5">Telnet</li><li data-line="6">电子邮件</li></ol></li><li data-line="7">配备大量主机的数据中心 (data center) 常被用于创建强大的虚拟服务器</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="P2P" class="heading" id="P2P"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>P2P<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">应用程序在间断连接的主机对之间使用直接通信，这些主机对被称为对等方，这些对等方并不为服务提供商所有</li><li data-line="1">具有自扩展性: 每个对等方都由于请求文件产生工作负载，但通过向其他对等方分发文件为系统增加服务能力</li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="进程通信" class="heading" id="进程通信"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>进程通信<div class="heading-after">...</div></h2><div class="heading-children"><div><p><span alt="Pasted image 20231023191228.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231023191228.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231023191228.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231023191228.png"></span></p></div><div><ol><li data-line="0">进程 (<a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Process_" rel="noopener" class="external-link" title="computing" href="https://en.wikipedia.org/wiki/Process_" target="_blank">process</a>): In computing, a process is the instance of a computer program that is being excuted by one or many threads.) 是运行在端系统上的程序，当多个进程运行在相同的端系统上时，它们使用进程间通信机制相互通信</li><li data-line="1">不同端系统上的进程，通过跨越计算机交换报文 (message) 而相互通信</li></ol></div><div class="heading-wrapper"><h3 data-heading="客户和服务器进程" class="heading" id="客户和服务器进程"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>客户和服务器进程<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">在一对进程之间的通信会话场景中，发起通信（即在该会话开始时发起与其他进程的联系）的进程被标识为客户，在会话开始时等待联系的进程是服务器。</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="进程和计算机网络间的接口" class="heading" id="进程和计算机网络间的接口"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>进程和计算机网络间的接口<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">进程通过称为套接字 (socket) 的软件接口向网络发送报文和从网络接收报文<ol><li data-line="1">套接是同一台主机内应用层与运输层之间的接口</li><li data-line="2">由于该套接字是建网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的应用程序编程接口 (Application Programming Interface, API)</li></ol></li><li data-line="3">应用程序开发者对运输层的控制仅限于于<ol><li data-line="4">选择运输层协议</li><li data-line="5">设定几个参数，如最大缓存和最大报文长度等</li></ol></li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="进程寻址" class="heading" id="进程寻址"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>进程寻址<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">为了标识接受进程，需要定义两种信息<ol><li data-line="1">主机的地址</li><li data-line="2">在目的主机中指定接收进程的标识符 (目的地端口号)</li></ol></li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="可供应用程序使用的运输服务" class="heading" id="可供应用程序使用的运输服务"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>可供应用程序使用的运输服务<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">通过研究可用的运输层协议提供的服务，选择一个最能为应用需求提供恰当服务的协议</li><li data-line="1">按照应用程序服务要求分类<ol><li data-line="2">可靠数据传输</li><li data-line="3">吞吐量</li><li data-line="4">定时</li><li data-line="5">安全性</li></ol></li></ol></div><div class="heading-wrapper"><h3 data-heading="可靠数据传输" class="heading" id="可靠数据传输"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>可靠数据传输<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">如果一个协议提供了<strong>确保由应用程序的一端发送的数据正确、完全地交付给该应用程序的另一端</strong>的数据交付服务，就认为提供了可靠数据传输服务 (reliable data transfer)</li><li data-line="1">运输层协议向应用程序提供的一个重要服务是<strong>进程到进程</strong>的可靠数据传输</li><li data-line="2">容忍丢失的应用 (loss-tolerant application): 使用的运输层协议不提供可靠数据传输，发送进程的数据可能</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="吞吐量" class="heading" id="吞吐量"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>吞吐量<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">可用吞吐量：发送进程能够向接收进程交付比特的速率</li><li data-line="1">产生了一种<strong>能够以某种特定的速率提供确保的可用吞吐量</strong>的运输层协议，适用于带宽敏感的应用</li><li data-line="2">带宽敏感的应用 (bandwidth-sensitive application)：具有吞吐量要求的应用程序</li><li data-line="3">弹性应用(elastic application)：能够根据当时可用带宽或多或少地利用可供使用的吞吐量</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="定时" class="heading" id="定时"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>定时<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">对于交互式实时应用程序有吸引力，如因特网电话、虚拟环境、电话会议和多方游戏</li><li data-line="1">定时保证：发送方注入套接字的每个比特到达接收方的套接字不迟于特定时间限制</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="安全性" class="heading" id="安全性"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>安全性<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">运输协议能够为应用程序提供一种或多种安全性服务</li><li data-line="1"><strong>发送主机</strong>中运输协议能够加密发送进程传输的所有数据</li><li data-line="2"><strong>接收主机</strong>中运输层协议能够将数据交付给接收进程前解密这些数据</li><li data-line="3">运输层协议能够提供机密性、数据完整性和端点鉴别等安全性服务</li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="因特网提供的运输服务" class="heading" id="因特网提供的运输服务"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>因特网提供的运输服务<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">因特网为应用程序提供了两个运输层协议，即 UDP 和 TCP</li></ol></div><div class="heading-wrapper"><h3 data-heading="TCP 服务" class="heading" id="TCP_服务"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>TCP 服务<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">TCP 服务模型包括<strong>面向连接服务</strong>和<strong>可靠数据传输服务</strong></li><li data-line="1">面向连接的服务：<ol><li data-line="2">握手过程：在应用层数据报文开始流动之前，TCP 让客户和服务器互相交换运输层控制信息</li><li data-line="3">握手阶段后，两个进程的套接字之间建立一个 <a data-tooltip-position="top" aria-label="https://zh.wikipedia.org/zh-cn/%E9%9B%99%E5%B7%A5" rel="noopener" class="external-link" href="https://zh.wikipedia.org/zh-cn/%E9%9B%99%E5%B7%A5" target="_blank"><strong>全双工</strong></a> 的 TCP 连接 (TCP connection)，当应用程序结束报文发送时，必须拆除该连接</li></ol></li><li data-line="4">可靠的数据传送服务：<br><span alt="Pasted image 20231031150119.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031150119.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031150119.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031150119.png"></span><ol><li data-line="6">通信进程能够依靠 TCP，无差错、按适当顺序交付所有发送的数据</li></ol></li><li data-line="7">拥塞控制机制</li><li data-line="8">TCP 安全<ol><li data-line="9">安全套接字层 (Secure Sockets Layer，SSL)：经过 SSL 增强的传输控制协议（TCP）不仅具备传统 TCP 的功能，而且还提供了关键的进程到进程安全性服务，包括加密、数据完整性和端点鉴别</li><li data-line="10">SSL 在应用层上实现</li></ol></li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="UDP 服务" class="heading" id="UDP_服务"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>UDP 服务<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">UDP 无连接没有握手过程，没有拥塞控制机制，UDP 协议提供不可靠的数据传送服务<br><span alt="Pasted image 20231031152513.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031152513.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031152513.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031152513.png"></span></li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="因特网运输协议所不提供的服务" class="heading" id="因特网运输协议所不提供的服务"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>因特网运输协议所不提供的服务<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">今天的因特网通常能够为时间敏感应用提供满意的服务，但它不能提供任何定时或带宽保证</li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="应用层协议" class="heading" id="应用层协议"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>应用层协议<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">应用层协议 (application-layer protocol) 定义了运行在不同端系统上的应用程序进程如何相互传递报文</li><li data-line="1">应用层协议定义了：<ol><li data-line="2">交换的报文类型</li><li data-line="3">各种报文类型的语法</li><li data-line="4">字段的语义</li><li data-line="5">确定一个进程何时以及如何发送报文，对报文进行响应的规则</li></ol></li><li data-line="6">应用层协议分为定义在公共域中的协议和专用的协议</li><li data-line="7">应用层协议只是网络应用的重要部分<br><span alt="network-protocol.gif" src="campus/chinese-notes/计算机科学/计算机网络/attachments/network-protocol.gif" class="internal-embed media-embed image-embed is-loaded"><img alt="network-protocol.gif" src="campus/chinese-notes/计算机科学/计算机网络/attachments/network-protocol.gif"></span></li></ol></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="Web 和 HTTP" class="heading" id="Web_和_HTTP"><div class="heading-before"></div>Web 和 HTTP<div class="heading-after">...</div></h1><div class="heading-children"><div><ol><li data-line="0">万维网 (World Wide Web)是一个因特网应用，其使用的应用层协议是超文本传输协议(HyperText Transfer Protocol, HTTP) <a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">RFC 1945</a> <a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">RFC 2616</a></li><li data-line="1">Web 具有按需操作，获取信息便捷等特点</li><li data-line="2">Web 页面由对象 (object) 组成，一个对象是一个文件，多数 Web 页面含有一个 HTML 基本文件以及几个引用对象</li><li data-line="3">White 的静态博客的文件结构(入口是 index.html)<br><span alt="Pasted image 20231031154854.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031154854.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031154854.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031154854.png"></span></li><li data-line="5">URL 地址由<strong>存放对象的服务器主机名</strong>和<strong>对象的路径名</strong>组成</li></ol></div><div class="heading-wrapper"><h2 data-heading="HTTP 概况" class="heading" id="HTTP_概况"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP 概况<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">HTTP 定义了 Web 客户向 Web 服务器请求 Web 页面的方式，以及服务器向客户传送 Web 页面的方式</li><li data-line="1">HTTP 使用 TCP 作为它的支撑运输协议</li><li data-line="2">HTTP 不保存关于客户的任何信息，所以 HTTP 是一个无状态协议(stateless protocol)</li></ol></div><div class="heading-wrapper"><h3 data-heading="非持续连接和持续连接" class="heading" id="非持续连接和持续连接"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>非持续连接和持续连接<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">根据每个请求/相应对<strong>经一个单独的 TCP 连接发送还是经相同的 TCP 连接发送</strong>划分</li><li data-line="1">非持续连接 (non-persistent connection)：<span alt="Pasted image 20231031163253.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163253.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031163253.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163253.png"></span><span alt="Pasted image 20231031164531.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031164531.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031164531.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031164531.png"></span><span alt="Pasted image 20231031163437.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163437.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031163437.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163437.png"></span><span alt="Pasted image 20231031163454.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163454.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031163454.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031163454.png"></span>针对不同的 HostName 建立了两个并行的 TCP 连接 (Q: 怎么通过工具观察图 2 和图 3 的两个连接是否是持续的)<ol><li data-line="2">用户可以配置现代浏览器来控制连接的并行度</li><li data-line="3">往返时间(Round-Trip Time, RTT)：<ol><li data-line="4">一个短分组从客户到服务器然后再返回客户所花费的时间。</li><li data-line="5">RTT 包括分组传播时延、分组在中间路由器和交换机上的排队时延以及分组处理时延</li><li data-line="6">点击超链接引起浏览器和 Web 服务器间发起一个 TCP 连接，涉及一次"三次握手"的过程 <span alt="Pasted image 20231031165751.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031165751.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031165751.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031165751.png"></span></li><li data-line="7">总的响应时间是两个 RTT 加上服务器传输(?) HTML 文件的时间</li></ol></li><li data-line="8">缺点：<ol><li data-line="9">必须为每一个请求的对象建立和维护一个全新的连接</li><li data-line="10">每一个对象经受两倍 RTT 的交付时延</li></ol></li></ol></li><li data-line="11">持续连接(persistent connection)<ol><li data-line="12">在采用 HTTP1.1 持续连接的情况下，服务器在发送响应后保持 TCP 连接打开，在相同的客户与服务器之间，后续的请求和响应报文能够通过相同的连接进行传送 <span alt="Pasted image 20231031171140.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031171140.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231031171140.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231031171140.png"></span></li></ol></li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="HTTP 报文格式" class="heading" id="HTTP_报文格式"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP 报文格式<div class="heading-after">...</div></h2><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Messages" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Messages" target="_blank">MDN-HTTP消息</a></li></ul></div><div><ol><li data-line="0">对 HTTP 报文格式的定义：<a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">RFC 1945</a> <a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">RFC 2616</a> <a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">RFC 7540</a></li></ol></div><div class="heading-wrapper"><h3 data-heading="HTTP 请求报文" class="heading" id="HTTP_请求报文"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP 请求报文<div class="heading-after">...</div></h3><div class="heading-children"><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">cnhktrz3k5nc.hack-challenge.lug.ustc.edu.cn:13202</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">session=eyJ0b2tlbiI6IjU2ODpNRVVDSVFEOUtzZWdBT2c5ZE9jdGkzUmJPSUVTSTdSTWQ5cDRQaW8vdWNxTXY3V0dhUUlnR0dIMHVROHhISWI4SzBNT2lidlFjVk0xaGoxZEdQZGNOYkpGbXJyZE45az0ifQ.ZUGxTw.PrwGL6P9rTzYpTfdu21r7irxBjQ</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/118.0</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.5</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">none</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1</span></span>
<span class="token header"><span class="token header-name keyword">Te</span><span class="token punctuation">:</span> <span class="token header-value">trailers</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span>


----------------------------------------------------------
🌟 加上不显示的回车和换行符后，报文中的空格也是真实存在的 (感谢ChatGPT的帮助)
<span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span>\r\n
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">cnhktrz3k5nc.hack-challenge.lug.ustc.edu.cn:13202\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">session=eyJ0b2tlbiI6IjU2ODpNRVVDSVFEOUtzZWdBT2c5ZE9jdGkzUmJPSUVTSTdSTWQ5cDRQaW8vdWNxTXY3V0dhUUlnR0dIMHVROHhISWI4SzBNT2lidlFjVk0xaGoxZEdQZGNOYkpGbXJyZE45az0ifQ.ZUGxTw.PrwGL6P9rTzYpTfdu21r7irxBjQ\r\n</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/118.0\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.5\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">none\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Te</span><span class="token punctuation">:</span> <span class="token header-value">trailers\r\n</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close\r\n\r\n 🌟 在表面上看来末尾有两个空行</span></span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre><code>🌟 使用ASCII编码转换为16进制，数据被注入套接字后穿过传输层、网络层、数据链路层、物理层(中间存在分组(?)等情况)以比特流的形式经过网络基础设施

G  E  T  SP /  SP H  T  T  P  /  1  .  1  CR LF ...
47 45 54 20 2f 20 48 54 54 50 2f 31 2e 31 0d 0a 48 6f 73 74 3a 20 63 6e 68 6b 74 72 7a 33 6b 35 6e 63 2e 68 61 63 6b 2d 63 68 61 6c 6c 65 6e 67 65 2e 6c 75 67 2e 75 73 74 63 2e 65 64 75 2e 63 6e 3a 31 33 32 30 32 0d 0a 43 6f 6f 6b 69 65 3a 20 73 65 73 73 69 6f 6e 3d 65 79 4a 30 62 32 74 6c 62 69 49 36 49 6a 55 32 4f 44 70 4e 52 56 56 44 53 56 46 45 4f 55 74 7a 5a 57 64 42 54 32 63 35 5a 45 39 6a 64 47 6b 7a 55 6d 4a 50 53 55 56 54 53 54 64 53 54 57 51 35 63 44 52 51 61 57 38 76 64 57 4e 78 54 58 59 33 56 30 64 68 55 55 6c 6e 52 30 64 49 4d 48 56 52 4f 48 68 49 53 57 49 34 53 7a 42 4e 54 32 6c 69 64 6c 46 6a 56 6b 30 78 61 47 6f 78 5a 45 64 51 5a 47 4e 4f 59 6b 70 47 62 58 4a 79 5a 45 34 35 61 7a 30 69 66 51 2e 5a 55 47 78 54 77 2e 50 72 77 47 4c 36 50 39 72 54 7a 59 70 54 66 64 75 32 31 72 37 69 72 78 42 6a 51 0d 0a 55 73 65 72 2d 41 67 65 6e 74 3a 20 4d 6f 7a 69 6c 6c 61 2f 35 2e 30 20 28 4d 61 63 69 6e 74 6f 73 68 3b 20 49 6e 74 65 6c 20 4d 61 63 20 4f 53 20 58 20 31 30 2e 31 35 3b 20 72 76 3a 31 30 39 2e 30 29 20 47 65 63 6b 6f 2f 32 30 31 30 30 31 30 31 20 46 69 72 65 66 6f 78 2f 31 31 38 2e 30 0d 0a 41 63 63 65 70 74 3a 20 74 65 78 74 2f 68 74 6d 6c 2c 61 70 70 6c 69 63 61 74 69 6f 6e 2f 78 68 74 6d 6c 2b 78 6d 6c 2c 61 70 70 6c 69 63 61 74 69 6f 6e 2f 78 6d 6c 3b 71 3d 30 2e 39 2c 69 6d 61 67 65 2f 61 76 69 66 2c 69 6d 61 67 65 2f 77 65 62 70 2c 2a 2f 2a 3b 71 3d 30 2e 38 0d 0a 41 63 63 65 70 74 2d 4c 61 6e 67 75 61 67 65 3a 20 65 6e 2d 55 53 2c 65 6e 3b 71 3d 30 2e 35 0d 0a 41 63 63 65 70 74 2d 45 6e 63 6f 64 69 6e 67 3a 20 67 7a 69 70 2c 20 64 65 66 6c 61 74 65 0d 0a 55 70 67 72 61 64 65 2d 49 6e 73 65 63 75 72 65 2d 52 65 71 75 65 73 74 73 3a 20 31 0d 0a 53 65 63 2d 46 65 74 63 68 2d 44 65 73 74 3a 20 64 6f 63 75 6d 65 6e 74 0d 0a 53 65 63 2d 46 65 74 63 68 2d 4d 6f 64 65 3a 20 6e 61 76 69 67 61 74 65 0d 0a 53 65 63 2d 46 65 74 63 68 2d 53 69 74 65 3a 20 6e 6f 6e 65 0d 0a 53 65 63 2d 46 65 74 63 68 2d 55 73 65 72 3a 20 3f 31 0d 0a 54 65 3a 20 74 72 61 69 6c 65 72 73 0d 0a 43 6f 6e 6e 65 63 74 69 6f 6e 3a 20 63 6c 6f 73 65 0d 0a 0d 0a
</code><button class="copy-code-button">复制</button></pre></div><div><ol><li data-line="0">一个简单 (大嘘，对我来说很复杂了) 的 HTTP 请求报文 (来自 USTC Hackergame 2023)，作为运输层的载荷被注入套接字<ol><li data-line="1">由普通的 ASCII 文本书写</li><li data-line="2">请求行 (第一行)<ol><li data-line="3">方法字段</li><li data-line="4">URL 字段</li><li data-line="5">HTTP 版本字段</li></ol></li><li data-line="6">首部行 (后继行)</li></ol></li></ol></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">cnhktrz3k5nc.hack-challenge.lug.ustc.edu.cn:13202 🌟 Web代理高速缓存要求</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">session=eyJ0b2tlbiI6IjU2ODpNRVVDSVFEOUtzZWdBT2c5ZE9jdGkzUmJPSUVTSTdSTWQ5cDRQaW8vdWNxTXY3V0dhUUlnR0dIMHVROHhISWI4SzBNT2lidlFjVk0xaGoxZEdQZGNOYkpGbXJyZE45az0ifQ.ZUGxTw.PrwGL6P9rTzYpTfdu21r7irxBjQ</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/118.0 🌟 用户代理/向服务器发送请求的浏览器类型</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.5 🌟 表示用户想获得网页的语言版本</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">none</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1</span></span>
<span class="token header"><span class="token header-name keyword">Te</span><span class="token punctuation">:</span> <span class="token header-value">trailers</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close 🌟 不需要使用持续连接，发送完请求的对象后就关闭这条连接</span></span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h4 data-heading="请求报文的通用格式" class="heading" id="请求报文的通用格式"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>请求报文的通用格式<div class="heading-after">...</div></h4><div class="heading-children"><div><p><span alt="Pasted image 20231101133831.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101133831.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231101133831.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101133831.png"></span></p></div><div><ol><li data-line="0">在首部行后有实体体，当使用 GET 方法时实体体为空，使用 POST 方法时才使用实体体</li></ol></div><div><ul><li data-line="0">一段 <code>POST</code> 报文</li></ul></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">202.38.93.111:12345</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/118.0</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">*/*</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.5</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/x-www-form-urlencoded; charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">X-Requested-With</span><span class="token punctuation">:</span> <span class="token header-value">XMLHttpRequest 🌟 通常被用于识别AJAX(Asynchronous JavaScript and XML)请求</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">48 🌟 说明发送给接收方的消息主体的大小，即用十进制数字表示的八位元组的数目</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://202.38.93.111:12345</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://202.38.93.111:12345/</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">session=eyJ0b2tlbiI6IjU2ODpNRVVDSVFEOUtzZWdBT2c5ZE9jdGkzUmJPSUVTSTdSTWQ5cDRQaW8vdWNxTXY3V0dhUUlnR0dIMHVROHhISWI4SzBNT2lidlFjVk0xaGoxZEdQZGNOYkpGbXJyZE45az0ifQ.ZUHm-g.kVPjkYgY94gYkzV03PmLKCKWuhI</span></span>

QW5zd2VyMT0yMDIzLTA4LTEwJkFuc3dlcjI9SUNSUg==.txt 🌟 实体体
</code><button class="copy-code-button">复制</button></pre></div><div><ul><li data-line="0">服务器收到 <code>HEAD</code> 方法，用一个 HTTP 报文进行相应但不返回请求对象</li></ul></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">HEAD</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/2</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">cnhktrz3k5nc.hack-challenge.lug.ustc.edu.cn:13202</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">session=eyJ0b2tlbiI6IjU2ODpNRVVDSVFEOUtzZWdBT2c5ZE9jdGkzUmJPSUVTSTdSTWQ5cDRQaW8vdWNxTXY3V0dhUUlnR0dIMHVROHhISWI4SzBNT2lidlFjVk0xaGoxZEdQZGNOYkpGbXJyZE45az0ifQ.ZUGxTw.PrwGL6P9rTzYpTfdu21r7irxBjQ</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/118.0</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.5</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">none</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1</span></span>
<span class="token header"><span class="token header-name keyword">Te</span><span class="token punctuation">:</span> <span class="token header-value">trailers</span></span>


</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token response-status"><span class="token http-version property">HTTP/2</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">nginx</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 01 Nov 2023 05:39:21 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=utf-8</span></span>
<span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">Accept-Encoding</span></span>
<span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">Cookie</span></span>
<span class="token header"><span class="token header-name keyword">X-Xss-Protection</span><span class="token punctuation">:</span> <span class="token header-value">1; mode=block</span></span>
<span class="token header"><span class="token header-name keyword">X-Content-Type-Options</span><span class="token punctuation">:</span> <span class="token header-value">nosniff</span></span>
<span class="token header"><span class="token header-name keyword">Referrer-Policy</span><span class="token punctuation">:</span> <span class="token header-value">no-referrer-when-downgrade</span></span>
<span class="token header"><span class="token header-name keyword">Permissions-Policy</span><span class="token punctuation">:</span> <span class="token header-value">interest-cohort=()</span></span>


</code><button class="copy-code-button">复制</button></pre></div><div><ul><li data-line="0"><code>PUT</code> 方法用于上传对象到 Web 服务器上的指定路径</li></ul></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">PUT</span> <span class="token request-target url">/echo/put/json</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">reqbin.com</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">80</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token string-property property">"Id"</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Customer"</span><span class="token operator">:</span> <span class="token string">"John Smith"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Quantity"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Price"</span><span class="token operator">:</span> <span class="token number">10.00</span>
<span class="token punctuation">}</span>
</span></code><button class="copy-code-button">复制</button></pre></div><div><ul><li data-line="0"><code>DELETE</code> 方法删除 Web 服务器上的对象</li></ul></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token request-line"><span class="token method property">DELETE</span> <span class="token request-target url">/echo/delete/json</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">reqbin.com</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">*/*</span></span>
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer mt0dgHmLJMVQhvjpNXDyA83vA_PxH23Y</span></span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="HTTP 响应报文" class="heading" id="HTTP_响应报文"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP 响应报文<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">这是一段 HTTP 响应报文</li></ol></div><div><pre class="language-http" tabindex="0"><code class="language-http is-loaded"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK 🌟 协议版本 状态码 状态信息</span></span>
<span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">nginx</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">90</span></span>
<span class="token header"><span class="token header-name keyword">Via</span><span class="token punctuation">:</span> <span class="token header-value">1.1 google</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 31 Oct 2023 19:59:05 GMT 🌟 响应生成的时间</span></span>
<span class="token header"><span class="token header-name keyword">Age</span><span class="token punctuation">:</span> <span class="token header-value">36693</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html 🌟 实体体中的对象类型</span></span>
<span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">public,must-revalidate,max-age=0,s-maxage=3600</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close 🌟 发送完报文后就关闭TCP连接</span></span>

&lt;meta http-equiv="refresh" content="0;url=https://support.mozilla.org/kb/captive-portal"/&gt;
</code><button class="copy-code-button">复制</button></pre></div><div><ol><li data-line="0">报文有三个部分<ol><li data-line="1">状态行 (status line)<ol><li data-line="2">协议版本</li><li data-line="3">状态码</li><li data-line="4">状态信息</li></ol></li><li data-line="5"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank">首部行</a> (header line)</li><li data-line="6">实体体 (entity body)</li></ol></li><li data-line="7"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status" target="_blank">状态码和状态信息</a></li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Cookie" class="heading" id="Cookie"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Cookie<div class="heading-after">...</div></h2><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies" target="_blank">MDN-Cookie</a></li></ul></div><div><ol><li data-line="0">HTTP 服务器无状态，Web 服务器为了跟踪用户使用 cookie 技术</li><li data-line="1">Cookie 技术的组件<ol><li data-line="2">响应报文中的 cookie 首部行</li><li data-line="3">请求报文中的 cookie 首部行</li><li data-line="4">用户端系统浏览器管理的 cookie 文件 (macOS 保存在 ~/Library/Application Support/Google/Chrome/Default/Cookies 路径下)</li><li data-line="5">位于 Web 站点的后端数据库</li></ol></li><li data-line="6">cookie 在无状态的 HTTP 之上建立了一个用户会话层</li></ol></div></div></div><div class="heading-wrapper"><h2 data-heading="Web 缓存" class="heading" id="Web_缓存"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Web 缓存<div class="heading-after">...</div></h2><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Proxy_servers_and_tunneling" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Proxy_servers_and_tunneling" target="_blank">MDN-代理服务器和隧道</a></li></ul></div><div><ol><li data-line="0">Web 缓存器 (Web cache) / 代理服务器 (proxy server)：能够代表初始 Web 服务器来满足 HTTP 请求的网络实体<ol><li data-line="1">正向代理：代理服务器靠近客户端并代表客户端发送请求</li><li data-line="2"><a data-tooltip-position="top" aria-label="https://www.cloudflare.com/zh-cn/learning/cdn/glossary/reverse-proxy/" rel="noopener" class="external-link" href="https://www.cloudflare.com/zh-cn/learning/cdn/glossary/reverse-proxy/" target="_blank">反向代理</a>：当客户端将请求发送到网站的源服务器时，反向代理服务器会在<a data-tooltip-position="top" aria-label="https://www.cloudflare.com/learning/serverless/glossary/what-is-edge-computing/" rel="noopener" class="external-link" href="https://www.cloudflare.com/learning/serverless/glossary/what-is-edge-computing/" target="_blank">网络边缘</a>拦截这些请求。然后，反向代理服务器将向源服务器发送请求并从源服务器接收响应。</li></ol></li><li data-line="3">Web 缓存器的优点<ol><li data-line="4">减少对客户请求的响应时间，特别是当客户与初始服务器之间的瓶颈带宽远低于客户与 Web 缓存器之间的瓶颈带宽时</li><li data-line="5">大大减少一个机构的接入到因特网的通信量</li><li data-line="6">大大减低因特网上的 Web 流量</li></ol></li></ol></div><div class="heading-wrapper"><h3 data-heading="减少机构的接入到因特网的通信量的例子" class="heading" id="减少机构的接入到因特网的通信量的例子"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>减少机构的接入到因特网的通信量的例子<div class="heading-after">...</div></h3><div class="heading-children"><div><p><span alt="h500" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163234.png" class="internal-embed media-embed image-embed is-loaded"><img alt="h500" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163234.png"></span><span alt="h500" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163308.png" class="internal-embed media-embed image-embed is-loaded"><img alt="h500" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231101163308.png"></span></p></div><div><ol><li data-line="0">条件：假设对象的平均长度为 1Mb ，机构内的浏览器对初试服务器的平均访问速率为每秒 15 个请求，假设 HTTP 请求报文小到可以忽略，主要关注 HTTP 响应报文</li><li data-line="1">第一种情况下：<ol><li data-line="2">局域网上的 <a data-tooltip-position="top" aria-label="因特网 > ^8065eb" data-href="因特网#^8065eb" href="campus/chinese-notes/计算机科学/计算机网络/因特网.html#^8065eb" class="internal-link" target="_self" rel="noopener">流量强度</a>：(15 个请求 /s) x (1 Mb / 请求) / (100Mbps) = 0.15</li><li data-line="3">接入链路上的流量强度：(15 个请求 /s) x (1 Mb / 请求) / (15 Mbps) = 1</li></ol></li><li data-line="4">优化方案：<ol><li data-line="5">将接入链路从 15Mbps 升级为 100Mbps</li><li data-line="6">在机构网络中安装一个 Web 缓存器</li></ol></li><li data-line="7">在安装 Web 缓存器的情况下<ol><li data-line="8">假设该机构的缓存命中率为 0.4，40%的请求命中缓存响应在 10ms 内，剩下 60%需要请求初始服务器，平均时延为 0.4 x ( 0.010 s ) + 0.6 x (2.01 s) = 1.21 s</li><li data-line="9">接入链路上的流量强度下降为：(15 个请求 /s) x (1 Mb / 请求) x 0.6 / (15 Mbps) = 0.6</li></ol></li><li data-line="10">通过使用内容分发网络(Content Distribution Network, CDN)，Web 缓存器在因特网上发挥着越来越重要的作用</li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="条件请求" class="heading" id="条件请求"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>条件请求<div class="heading-after">...</div></h2><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Conditional_requests" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Conditional_requests" target="_blank">MDN-HTTP条件请求</a></li></ul></div><div><ol><li data-line="0">条件 GET (conditional GET) 方法：<ol><li data-line="1">请求报文使用 GET 方法</li><li data-line="2">请求报文中包含一个 "If-Modified-Since: " 首部行 (?)</li></ol></li><li data-line="3">条件请求：请求的执行结果会因特定首部的值不同而不同</li><li data-line="4">验证器：<ol><li data-line="5">last-modified：文件的最后修改时间</li><li data-line="6">etag：可以用于提供资源或其衍生品的 MD5 散列值</li></ol></li><li data-line="7">检查类型：HTTP 协议默认使用强验证类型<ol><li data-line="8">强验证类型</li><li data-line="9">弱验证类型</li></ol></li><li data-line="10">条件首部：<ol><li data-line="11">If-Match</li><li data-line="12">If-None-Match</li><li data-line="13">If-Modified-Since：如果远端资源的&nbsp;<a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Last-Modified" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Last-Modified" target="_blank"><code>Last-Modified</code></a>&nbsp;首部标识的日期比在该首部中列出的值要更晚，表示条件匹配成功。</li><li data-line="14">If-Unmodified-Since</li><li data-line="15">If-Range</li></ol></li><li data-line="16">缓存更新<ol><li data-line="17">当缓存为空或者无缓存时，被请求资源通过状态码为 <strong>200 OK</strong> 的 HTTP 响应报文返回 <span alt="Pasted image 20231102100948.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102100948.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231102100948.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102100948.png"></span></li><li data-line="18">验证器首部行也随着资源在 HTTP 响应中返回，和资源一起被缓存起来</li><li data-line="19">Cache-Control 首部控制缓存是否失效，一旦失效客户端就发起条件请求否则使用缓存值，验证器的值会用作条件请求中&nbsp;<a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Modified-Since" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Modified-Since" target="_blank"><code>If-Modified-Since</code></a>&nbsp;和&nbsp;<a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Match" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Match" target="_blank"><code>If-Match</code></a>&nbsp;首部字段的参数</li><li data-line="20">如果资源未发生变化，服务器返回状态码为&nbsp;<a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/304" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/304" target="_blank"><code>304</code></a>&nbsp;<code>Not Modified</code>&nbsp;的响应<span alt="Pasted image 20231102103202.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103202.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231102103202.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103202.png"></span></li><li data-line="21">如果资源发生变化，服务器返回 <a data-tooltip-position="top" aria-label="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/200" rel="noopener" class="external-link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/200" target="_blank"><code>200</code></a>&nbsp;<code>OK</code>&nbsp;响应码，连同新版本的资源，再次回到步骤 2 <span alt="Pasted image 20231102103136.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103136.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231102103136.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231102103136.png"></span></li></ol></li></ol></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="Email" class="heading" id="Email"><div class="heading-before"></div>Email<div class="heading-after">...</div></h1><div class="heading-children"><div><p><span alt="Pasted image 20231103092045.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103092045.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231103092045.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103092045.png"></span></p></div><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">Cloudflare-什么是SMTP</a></li></ul></div><div><ol><li data-line="0">组成部分：<ol><li data-line="1">用户代理 (user agent)：Outlook, Apple Mail</li><li data-line="2">邮件服务器 (mail server)</li><li data-line="3"><a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol" rel="noopener" class="external-link" href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol" target="_blank">简单邮件传输协议</a> (Simple Mail Transfer Protocol, SMTP)</li><li data-line="4">邮件访问协议 (mail access protocol)</li></ol></li><li data-line="5">一个典型的邮件发送过程是：从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后在这里被分发到接收方的邮箱中</li><li data-line="6">如果邮件服务器客户端不能把邮件交付给接收方，则会在报文队列(message queue)中保持该报文并在以后尝试发送，如果一段时间后仍不成功，则客户端删除报文并以电子邮件形式通知发送方</li></ol></div><div class="heading-wrapper"><h3 data-heading="简单邮件传输协议" class="heading" id="简单邮件传输协议"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>简单邮件传输协议<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">不妨试着运行一个简单的 SMTP 服务器并且用 telnet 交互</li></ol></div><div><pre class="language-python" tabindex="0"><code class="language-python is-loaded"><span class="token keyword">import</span> smtpd
<span class="token keyword">import</span> asyncore

<span class="token keyword">class</span> <span class="token class-name">CustomSMTPServer</span><span class="token punctuation">(</span>smtpd<span class="token punctuation">.</span>SMTPServer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">process_message</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> peer<span class="token punctuation">,</span> mailfrom<span class="token punctuation">,</span> rcpttos<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Received message from:'</span><span class="token punctuation">,</span> peer<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Message addressed from:'</span><span class="token punctuation">,</span> mailfrom<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Message addressed to  :'</span><span class="token punctuation">,</span> rcpttos<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Message length        :'</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Data:'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

server <span class="token operator">=</span> CustomSMTPServer<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>

<span class="token keyword">try</span><span class="token punctuation">:</span>
    asyncore<span class="token punctuation">.</span>loop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> KeyboardInterrupt<span class="token punctuation">:</span>
    server<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token operator">&gt;</span> telnet localhost <span class="token number">25</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ol start="5"><li data-line="0">这是一段 SMTP 客户端和 SMTP 服务端交互案例</li></ol></div><div><pre><code>S: 220 smtp.example.com ESMTP Postfix
C: HELO relay.example.org
S: 250 Hello relay.example.org, I am glad to meet you
C: MAIL FROM:&lt;bob@example.org&gt;
S: 250 Ok
C: RCPT TO:&lt;alice@example.com&gt;
S: 250 Ok
C: RCPT TO:&lt;theboss@example.com&gt;
S: 250 Ok
C: DATA
S: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;
C: `From: "Bob Example" &lt;bob@example.org&gt;`
C: `To: "Alice Example" &lt;alice@example.com&gt;`
C: `Cc: theboss@example.com`
C: `Date: Tue, 15 Jan 2008 16:02:43 -0500`
C: `Subject: Test message`
C:
C: Hello Alice.
C: This is a test message with 5 header fields and 4 lines in the message body.
C: Your friend,
C: Bob
C: .
S: 250 Ok: queued as 12345
C: QUIT
S: 221 Bye
{The server closes the connection}
</code><button class="copy-code-button">复制</button></pre></div><div><ul><li data-line="0"><code>HELO/EHLO</code>：这些命令发出 “Hello” 并在客户端和服务器之间启动 SMTP 连接。“<code>HELO</code>” 是该命令的基本版本；“<code>EHLO</code>” 用于一种特别类型的 SMTP。</li><li data-line="1"><code>MAIL FROM</code>：这个命令告诉服务器谁在发送该电子邮件。如果 Alice 试图给她的朋友 Bob 发电子邮件，客户端可能会发送 “MAIL FROM：<a data-tooltip-position="top" aria-label="mailto:alice@example.com" rel="noopener" class="external-link" href="mailto:alice@example.com" target="_blank">alice@example.com</a>”。</li><li data-line="2"><code>RCPT TO</code>：这个命令用于列出电子邮件的收件人。如果有**多个收件人，客户端可多次发送该命令。如上例子中，Alice 的电子邮件客户端将发送： “RCPT TO: <a data-tooltip-position="top" aria-label="mailto:bob@example.com" rel="noopener" class="external-link" href="mailto:bob@example.com" target="_blank">bob@example.com</a>"。</li><li data-line="3"><code>DATA</code>：这个命令放在电子邮件的内容前，DATA 中的内容 (邮件报文格式)由 <a data-tooltip-position="top" aria-label="https://datatracker.ietf.org/doc/html/rfc5322" rel="noopener" class="external-link" href="https://datatracker.ietf.org/doc/html/rfc5322" target="_blank">RFC 5322 - Internet Message Format</a> 规定，并以 <code>&lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code> 结尾</li><li data-line="4"><code>RSET</code>：该命令重置连接，删除所有以前传输的信息，但不关闭 SMTP 连接。<code>RSET</code>&nbsp;在客户端发送了错误信息的情况下使用。</li><li data-line="5"><code>QUIT</code>：结束连接。</li></ul></div><div><p>HTTP 主要是一个拉协议 (pull protocol)，SMTP 主要是一个推协议 (push protocol)，可以想象一下木板和绳子的不同之处。一块木板可将某物向前推，但不能将它拉回来。绳子可以拉动某物，但不能推动它。SMTP 将电子邮件“推”到邮件服务器，而 HTTP 将 Web 对象“拉”到用户的应用程序中</p></div></div></div><div class="heading-wrapper"><h3 data-heading="邮件访问协议" class="heading" id="邮件访问协议"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>邮件访问协议<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">流行的邮件访问协议包括第三版的邮局协议 ( Post Office Protocol—Version 3, POP3 ) 、因特网邮件访问协议 ( Internet Mail Access Protocol, IMAP) 以及 HTTP</li><li data-line="1">IMAP 和 POP3 的区别：</li></ol></div><div style="overflow-x:auto"><table><thead><tr><th>IMAP</th><th>POP 3</th></tr></thead><tbody><tr><td>用户可以从任何设备上访问他们的电子邮件。</td><td>默认情况下，只能从下载邮件的设备上访问电子邮件。</td></tr><tr><td>服务器存储电子邮件；IMAP 充当服务器和客户端之间的中介。</td><td>若非另有配置，下载后，电子邮件就会从服务器上删除。</td></tr><tr><td>电子邮件不能离线访问。</td><td>电子邮件可以离线访问，但只能在其下载的设备上访问。</td></tr><tr><td>在用户点击之前，不会下载电子邮件的正文，但主题行和发件人姓名会迅速在电子邮件客户端弹出。</td><td>默认情况下，电子邮件会被下载到设备上，所以可能需要更长的时间来加载邮件内容。</td></tr><tr><td>IMAP 需要更多的服务器空间，因为电子邮件不会从服务器上自动删除。</td><td>POP 3 节省了电子邮件服务器的存储空间，因为电子邮件会自动从服务器中删除。</td></tr></tbody></table></div><div class="heading-wrapper"><h4 data-heading="POP3" class="heading" id="POP3"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>POP3<div class="heading-after">...</div></h4><div class="heading-children"><div><ol><li data-line="0">工作阶段<ol><li data-line="1">特许 (authorization)</li><li data-line="2">事务处理</li><li data-line="3">更新</li></ol></li><li data-line="4">下面是一段 POP3 交互案例</li></ol></div><div><pre><code>S: &lt;wait for connection on TCP port 110&gt;
C: &lt;open connection&gt;
S:    +OK POP3 server ready &lt;1896.697170952@dbc.mtview.ca.us&gt;
C:    APOP mrose c4c9334bac560ecc979e58001b3e22fb
S:    +OK mrose's maildrop has 2 messages (320 octets)
C:    STAT
S:    +OK 2 320
C:    LIST
S:    +OK 2 messages (320 octets)
S:    1 120
S:    2 200
S:    .
C:    RETR 1
S:    +OK 120 octets
S:    &lt;the POP3 server sends message 1&gt;
S:    .
C:    DELE 1
S:    +OK message 1 deleted
C:    RETR 2
S:    +OK 200 octets
S:    &lt;the POP3 server sends message 2&gt;
S:    .
C:    DELE 2
S:    +OK message 2 deleted
C:    QUIT
S:    +OK dewey POP3 server signing off (maildrop empty)
C: &lt;close connection&gt;
S: &lt;wait for next connection&gt;
</code><button class="copy-code-button">复制</button></pre></div><div><ul><li data-line="0"><code>APOP</code> ：APOP 命令使用了一个加密的哈希值（MD 5 散列值）来验证用户的身份。当客户端连接到邮件服务器时，服务器会发送一个带有时间戳的随机字符串。然后客户端将该字符串和用户的密码进行组合，并使用 MD5 算法进行哈希运算。最后，客户端发送用户名和计算得到的哈希值给服务器，以完成身份验证。</li><li data-line="1"><code>STAT</code>：获取收件箱中邮件的统计信息</li><li data-line="2"><code>LIST</code>：请求邮件服务器列出所有存储的邮件及其长度</li><li data-line="3"><code>RETR</code>：发送对应的邮件</li><li data-line="4"><code>DELE</code>：给邮件做删除标记</li><li data-line="5"><code>QUIT</code>：结束该 POP3 会话并删除标记为删除的邮件</li></ul></div><div><ol><li data-line="0">POP3 在服务器端保留状态信息，但不在会话过程中携带状态信息，简化了 POP3 服务的实现</li></ol></div></div></div><div class="heading-wrapper"><h4 data-heading="IMAP" class="heading" id="IMAP"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>IMAP<div class="heading-after">...</div></h4><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Internet_Message_Access_Protocol" rel="noopener" class="external-link" href="https://en.wikipedia.org/wiki/Internet_Message_Access_Protocol" target="_blank">Wikipedia - IMAP</a></li></ul></div><div><ol><li data-line="0">IMAP 协议为用户提供了创建文件夹以及将邮件从一个文件夹移动到另一个文件夹的命令</li><li data-line="1">IMAP 还为用户提供了在远程文件夹中查询邮件的命令，按指定条件去查询匹配的邮件</li><li data-line="2">IMAP 具有允许用户代理获取报文某些部分的命令</li><li data-line="3">IMAP 服务器维护了 IMAP 会话的用户状态信息</li></ol></div><div><pre><code>C: &lt;open connection&gt;
S:   * OK IMAP4rev1 Service Ready
C:   a001 login mrc secret
S:   a001 OK LOGIN completed
C:   a002 select inbox
S:   * 18 EXISTS
S:   * FLAGS (\Answered \Flagged \Deleted \Seen \Draft)
S:   * 2 RECENT
S:   * OK [UNSEEN 17] Message 17 is the first unseen message
S:   * OK [UIDVALIDITY 3857529045] UIDs valid
S:   a002 OK [READ-WRITE] SELECT completed
C:   a003 fetch 12 full
S:   * 12 FETCH (FLAGS (\Seen) INTERNALDATE "17-Jul-1996 02:44:25 -0700"
      RFC822.SIZE 4286 ENVELOPE ("Wed, 17 Jul 1996 02:23:25 -0700 (PDT)"
      "IMAP4rev1 WG mtg summary and minutes"
      (("Terry Gray" NIL "gray" "cac.washington.edu"))
      (("Terry Gray" NIL "gray" "cac.washington.edu"))
      (("Terry Gray" NIL "gray" "cac.washington.edu"))
      ((NIL NIL "imap" "cac.washington.edu"))
      ((NIL NIL "minutes" "CNRI.Reston.VA.US")
      ("John Klensin" NIL "KLENSIN" "MIT.EDU")) NIL NIL
      "&lt;B27397-0100000@cac.washington.edu&gt;")
      BODY ("TEXT" "PLAIN" ("CHARSET" "US-ASCII") NIL NIL "7BIT" 3028
      92))
S:   a003 OK FETCH completed
C:   a004 fetch 12 body[header]
S:   * 12 FETCH (BODY[HEADER] {342}
S:   `Date: Wed, 17 Jul 1996 02:23:25 -0700 (PDT)`
S:   `From: Terry Gray &lt;gray@cac.washington.edu&gt;`
S:   `Subject: IMAP4rev1 WG mtg summary and minutes`
S:   `To: imap@cac.washington.edu`
S:   `Cc: minutes@CNRI.Reston.VA.US, John Klensin &lt;KLENSIN@MIT.EDU&gt;`
S:   `Message-Id: &lt;B27397-0100000@cac.washington.edu&gt;`
S:   `MIME-Version: 1.0`
S:   `Content-Type: TEXT/PLAIN; CHARSET=US-ASCII`
S:
S:   )
S:   a004 OK FETCH completed
C    a005 store 12 +flags \deleted
S:   * 12 FETCH (FLAGS (\Seen \Deleted))
S:   a005 OK +FLAGS completed
C:   a006 logout
S:   * BYE IMAP4rev1 server terminating connection
S:   a006 OK LOGOUT completed
</code><button class="copy-code-button">复制</button></pre></div><div><ol><li data-line="0">From ChatGPT 3.5：在 POP3会话中，状态信息通常包括邮件的状态，比如已读或未读、已删除或未删除。这些信息保存在邮件服务器上，在会话期间，可以通过命令和响应来查询和修改这些状态。在 IMAP 会话中，状态信息更加灵活和丰富。它包括邮件夹（也称为邮箱或文件夹）的状态，比如邮件数、未读邮件数等，还包括每封邮件的状态，比如已读或未读、已删除或未删除。IMAP 还允许客户端保存自己的会话状态，比如当前选定的文件夹、搜索条件等，以便在断开连接后能够恢复会话。</li><li data-line="1">现代用户代理应用程序中显示的用户文件夹结构 (图片来自 Apple Mail)<br><span alt="h300" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103114204.png" class="internal-embed media-embed image-embed is-loaded"><img alt="h300" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103114204.png"></span><span alt="h300" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103113920.png" class="internal-embed media-embed image-embed is-loaded"><img alt="h300" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103113920.png"></span></li></ol></div></div></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="DNS" class="heading" id="DNS"><div class="heading-before"></div>DNS<div class="heading-after">...</div></h1><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://www.cloudflare.com/zh-cn/learning/dns/what-is-dns/" rel="noopener" class="external-link" href="https://www.cloudflare.com/zh-cn/learning/dns/what-is-dns/" target="_blank">Cloudflare - 什么是DNS</a></li><li data-line="1"><a data-tooltip-position="top" aria-label="https://en.wikipedia.org/w/index.php?title=Domain_Name_System&amp;oldid=1182387275" rel="noopener" class="external-link" href="https://en.wikipedia.org/w/index.php?title=Domain_Name_System&amp;oldid=1182387275" target="_blank">Wikipedia - Domain Name System</a></li><li data-line="2"><a data-tooltip-position="top" aria-label="" rel="noopener" class="external-link" href="" target="_blank">Cloudflare - 什么是DNS记录</a></li></ul></div><div><ol><li data-line="0">标识主机的两种方式：主机名 (hostname), IP 地址</li><li data-line="1">域名系统 (Domain Name System, DNS)的主要任务：进行 <code>主机名到 IP 地址转换</code> 的目录服务</li><li data-line="2">DNS<span alt="Pasted image 20231103150341.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103150341.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231103150341.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103150341.png"></span><ol><li data-line="3">一个由分层的 DNS 服务器 (DNS server) 实现的分布式数据库</li><li data-line="4">一个能够使得主机能够查询分布式数据库的应用层协议</li><li data-line="5">运行在 UDP 上，使用 53 号端口</li></ol></li><li data-line="6">DNS 通常是由其他应用层协议所使用的，包括 HTTP、SMTP 和 FTP 将用户提供的主机名解析为 IP 地址</li><li data-line="7">DNS 还提供一些重要的服务<ol><li data-line="8">主机别名 (host aliasing)</li><li data-line="9">邮件服务器别名 (mail server aliasing)</li><li data-line="10">负载分配 (load distribution) ⬇️</li><li data-line="11"><span width="300" alt="Pasted image 20231103154100.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103154100.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231103154100.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231103154100.png" style="max-width:100%"></span></li></ol></li><li data-line="12">在&nbsp;<a data-tooltip-position="top" aria-label="https://www.cloudflare.com/learning/dns/dns-records/" rel="noopener" class="external-link" href="https://www.cloudflare.com/learning/dns/dns-records/" target="_blank">DNS 记录</a>的环境中，TTL (单位 second) 是一个数值，它确定 DNS 缓存服务器在连接到权威性 DNS 服务器并获取记录的新副本之前可以为 DNS 记录提供服务的时间</li></ol></div><div class="heading-wrapper"><h2 data-heading="DNS 报文格式" class="heading" id="DNS_报文格式"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>DNS 报文格式<div class="heading-after">...</div></h2><div class="heading-children"><div><p><span alt="Pasted image 20231106084448.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106084448.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231106084448.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106084448.png"></span></p></div><div><ol><li data-line="0">前 12 字节：首部区域<ol><li data-line="1">标识符：用于标识查询，会被复制到对查询的回答报文中 (16 bit)</li><li data-line="2">标志字段：(16 bit)</li><li data-line="3">有关数量的字段：问题数，回答 RR 数，权威 RR 数，附加 RR 数（对应下方的问题区域和回答区域，各 16 bit）</li></ol></li><li data-line="4">问题区域：<ol><li data-line="5">名字字段：包含正在被查询的主机名字</li><li data-line="6">类型字段：指出有关该名字正在被询问的问题类型</li><li data-line="7">Class 字段：主要用来指定网络类别</li></ol></li><li data-line="8">回答区域：包含了对最初请求的名字的资源记录</li></ol></div><div><blockquote><p>标志字段格式</p><table><thead><tr><th>Field</th><th>Description</th><th>Length (<a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Bit" rel="noopener" class="external-link" title="Bit" href="https://en.wikipedia.org/wiki/Bit" target="_blank">bits</a>)</th></tr></thead><tbody><tr><td>QR</td><td>Indicates if the message is a query (0) or a reply (1)</td><td>1</td></tr><tr><td>OPCODE</td><td>The type can be QUERY (standard query, 0), IQUERY (inverse query, 1), or STATUS (server status request, 2)</td><td>4</td></tr><tr><td>AA</td><td>Authoritative Answer, in a response, indicates if the DNS server is authoritative for the queried hostname</td><td>1</td></tr><tr><td>TC</td><td>TrunCation, indicates that this message was truncated due to excessive length</td><td>1</td></tr><tr><td>RD</td><td>Recursion Desired, indicates if the client means a recursive query</td><td>1</td></tr><tr><td>RA</td><td>Recursion Available, in a response, indicates if the replying DNS server supports recursion</td><td>1</td></tr><tr><td>Z</td><td>Zero, reserved for future use</td><td>3</td></tr><tr><td>RCODE</td><td>Response code, can be NOERROR (0), FORMERR (1, Format error), SERVFAIL (2), NXDOMAIN (3, Nonexistent domain), etc.</td><td>4</td></tr></tbody></table></blockquote></div><div><blockquote><p>问题 RR 格式</p><table><thead><tr><th>Field</th><th>Description</th><th>Length (octets)</th></tr></thead><tbody><tr><td>NAME</td><td>Name of the requested resource</td><td>Variable</td></tr><tr><td>TYPE</td><td>Type of RR (A, AAAA, MX, TXT, etc.)</td><td>2</td></tr><tr><td>CLASS</td><td>Class code</td><td>2</td></tr></tbody></table></blockquote></div><div><blockquote><p>回答 RR 格式</p><table><thead><tr><th>Field</th><th>Description</th><th>Length (octets)</th></tr></thead><tbody><tr><td>NAME</td><td>Name of the node to which this record pertains</td><td>Variable</td></tr><tr><td>TYPE</td><td>Type of RR in numeric form (e.g., 15 for MX RRs)</td><td>2</td></tr><tr><td>CLASS</td><td>Class code</td><td>2</td></tr><tr><td><a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Time_to_live" rel="noopener" class="external-link" title="Time to live" href="https://en.wikipedia.org/wiki/Time_to_live" target="_blank">TTL</a></td><td>Count of seconds that the RR stays valid (The maximum is 231−1, which is about 68 years)</td><td>4</td></tr><tr><td>RDLENGTH</td><td>Length of RDATA field (specified in octets)</td><td>2</td></tr><tr><td>RDATA</td><td>Additional RR-specific data</td><td>Variable, as per RDLENGTH</td></tr></tbody></table></blockquote></div></div></div><div class="heading-wrapper"><h2 data-heading="在 DNS 数据库中插入记录" class="heading" id="在_DNS_数据库中插入记录"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>在 DNS 数据库中插入记录<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">注册登记机构 (registrar) 是一个商业实体，它验证该域名的唯一性，将该域名输入 DNS 数据库（如下面所讨论的那样），对提供的服务收取少量费用。</li><li data-line="1">因特网名字和地址分配机构 (Internet Corporation for Assigned Names and Numbers, ICANN) 向各种注册登记机构授权</li><li data-line="2">当注册一个域名时并提供 Web 和 Mail 服务时<ol><li data-line="3">向域名登记注册机构提供基本和辅助权威服务器的名字和 IP 地址</li><li data-line="4">向权威 DNS 服务器中插入 Web 服务器 <a data-tooltip-position="top" aria-label="http://www.example.com" rel="noopener" class="external-link" href="http://www.example.com" target="_blank">www.example.com</a> 的类型 A 资源记录和用于邮件服务器 mail.example.com 的 MX 资源记录</li></ol></li></ol></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="P2P 文件分发" class="heading" id="P2P_文件分发"><div class="heading-before"></div>P2P 文件分发<div class="heading-after">...</div></h1><div class="heading-children"><div><ol><li data-line="0">在本节中我们将研究一个非常自然的 P2P 应用，即从单一服务器向大量主机 (称为对等方) 分发一个大文件</li><li data-line="1">在 P2P 文件分发中，每个对等方能够向任何其他对等方重新分发它已经收到的该文件的任何部分，从而在分发过程中协助该服务器</li></ol></div><div class="heading-wrapper"><h2 data-heading="P2P 体系结构的扩展性" class="heading" id="P2P_体系结构的扩展性"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>P2P 体系结构的扩展性<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">考虑一个用于两种体系结构类型的简单定量模型，将一个文件分发给一个固定对等方集合 <span width="500" alt="Pasted image 20231106155558.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106155558.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231106155558.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106155558.png" style="max-width:100%"></span></li><li data-line="1"><span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>服务器的上载速率，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>第 i 对等方接入链路的上载速率，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>第 i 对等方接入链路的下载速率</li><li data-line="2"><span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>被分发的文件长度，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>要获得的该文件副本的对等方的数量</li><li data-line="3">分发时间 (distribution time)：所有 N 个对等方得到该文件副本所需要的时间</li><li data-line="4">假设互联网核心具有足够的带宽，服务器和客户端没有参加任何其他网络应用，所有上传和下载访问贷款能被全部用于分发该文件</li></ol></div><div class="heading-wrapper"><h3 data-heading="客户-服务器体系结构" class="heading" id="客户-服务器体系结构"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>客户-服务器体系结构<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">服务器必须向 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>个对等方的每个传输该文件的一个副本。因此该服务器必须传输 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>比特。因为该服务器的上载速率是 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>, , 分发该文件的时间必定是至少为 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span></li><li data-line="1">令 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>表示具有最小下载速率的对等方的下载速率，即 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7B"></mjx-c></mjx-mo><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-msub space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-msub space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c7D"></mjx-c></mjx-mo></mjx-math></mjx-container></span>。具有最小下载速率的对等方不可能在少于 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>秒时间内获得该文件的所有 F 比特。因此最小分发时间至少为 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span></li><li data-line="2">观察得到 <span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D437 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mrow space="2"><mjx-mo class="mjx-s3"><mjx-c class="mjx-c7B TEX-S3"></mjx-c></mjx-mo><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mrow><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mfrac space="2"><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class="mjx-s3"><mjx-c class="mjx-c7D TEX-S3"></mjx-c></mjx-mo></mjx-mrow></mjx-math></mjx-container></span></li><li data-line="3">对于足够大的 N，客户-服务器分发时间由 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>确定，所以分发时间随着对等方 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>的数量线性增加</li></ol></div></div></div><div class="heading-wrapper"><h3 data-heading="P2P 体系结构" class="heading" id="P2P_体系结构"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>P2P 体系结构<div class="heading-after">...</div></h3><div class="heading-children"><div><ol><li data-line="0">该服务器必须经过其接入链路至少发送该文件的每个比特一次，最小分发时间至少是 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span></li><li data-line="1">具有最低下载速率的对等方不能以小于 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>秒的分发时间获得所有 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>比特</li><li data-line="2">系统整体的总上载能力等于服务器的上载速率加上每个单独的对等方的上载速率，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45C TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msub space="4"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msub space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span>，系统必须向这 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>个对等方的每个交付 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>比特，总共交付 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>比特，且不能以快于 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45C TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>的速率完成，因此最小的分发时间至少是 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msub space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2E"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math></mjx-container></span></li><li data-line="3">同上得</li><li data-line="4">如果我们认为一旦每个对等方接收到一个比特就能够重分发一个比特的话，则存在一个重新分发方案能实际取得这种下界</li><li data-line="5">假设所有对等方具有相同的上载速率 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>，设置 <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D439 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math></mjx-container></span>小时，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>，<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2265"></mjx-c></mjx-mo><mjx-msub space="4"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mi class="mjx-i" size="s"><mjx-c class="mjx-c1D446 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math></mjx-container></span><span width="500" alt="Pasted image 20231106172311.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106172311.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231106172311.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231106172311.png" style="max-width:100%"></span></li><li data-line="6">对于 P2P 体系结构最小分发时间不仅总是小于客户－服务器体系结构的分发时间，并且对于任意 0.5 的对等方数量 N, 总是小于 1 小时</li></ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="BitTorrent" class="heading" id="BitTorrent"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>BitTorrent<div class="heading-after">...</div></h2><div class="heading-children"><div><ol><li data-line="0">术语<ol><li data-line="1">洪流 (torrent)：参与一个特定文件分发的所有对等方的集合</li><li data-line="2">洪流中的对等方彼此下载等长度的文件块 (chunk)</li><li data-line="3">追踪器 (tracker)：每个洪流具有的基础设施节点，当一个对等方加入某洪流时，它向追踪器注册自己，并周期性地通知追踪器它仍在该洪流中。以这种方式，追踪器跟踪参与在洪流中的对等方</li><li data-line="4">疏通 (unchoked)：使数据的发送和接收流畅进行的对等方</li></ol></li><li data-line="5">领近对等方：新对等方加入洪流时，追踪器随机从参与对等方的集合中选择对等方的一个子集，并将这些对等方的 IP 地址发送给 Alice，Alice 持有对等方的这张列表，试图与该列表上的所有对等方创建并行的 TCP 连接，所有这样与 Alice 成功地创建一个 TCP 连接的对等方为＂邻近对等方”</li><li data-line="6">最稀缺优先 (rarest first) 技术：针对 Alice 没有的块在她的邻居中决定最稀缺的块（最稀缺的块就是那些在她的邻居中副本数量最少的块），并首先请求那些最稀缺的块</li></ol></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="视频流和内容分发网" class="heading" id="视频流和内容分发网"><div class="heading-before"></div>视频流和内容分发网<div class="heading-after">...</div></h1><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP" rel="noopener" class="external-link" href="https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP" target="_blank">Wikipedia - Dynamic Adaptive Streaming over HTTP</a></li></ul></div><div><ol><li data-line="0">视频媒体：视频是一系列的图像，通常以一种恒定的速率 (如每秒 24 或 30 张图像) 来展现。一幅未压缩、数字编码的图像由像素阵列组成，其中每个像素是由一些比特编码来表示亮度和颜色。视频的一个重要特征是它能够被压缩，因而可用比特率来权衡视频质量</li><li data-line="1">对流式视频最为重要的性能度量是端到端吞吐量</li><li data-line="2">HTTP 的动态适应流 (Dynamic Adaptive Streaming over HTTP, DASH)：视频编码为几个不同的版本，每个版本具有不同的比特率，对应于不同的质量水平。客户动态地请求来自不同版本且长度为几秒的视频段数据块。当可用带宽量较高时，客户自然地选择来自高速率版本的块；当可用带宽量较低时，客户自然地选择来自低速率版本的块。客户用 HTTP GET 请求报文一次选择一个不同的块</li><li data-line="3">HTTP 服务器存在一个告示文件 (manifest file)，为每个版本提供了一个 URL 及其比特率</li></ol></div><div class="heading-wrapper"><h2 data-heading="内容分发网" class="heading" id="内容分发网"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>内容分发网<div class="heading-after">...</div></h2><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="http://ieeexplore.ieee.org/document/6195531/" rel="noopener" class="external-link" href="http://ieeexplore.ieee.org/document/6195531/" target="_blank">Unreeling netflix: Understanding and improving multi-CDN movie delivery</a><br><span alt="Pasted image 20231108103623.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231108103623.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20231108103623.png" src="campus/chinese-notes/计算机科学/计算机网络/attachments/pasted-image-20231108103623.png"></span></li></ul></div><div><ol><li data-line="0">提供流式视频服务建立单一大规模数据中心的问题<ol><li data-line="1">用户远离数据中心，端到端吞吐量受瓶颈链路的吞吐量限制，若吞吐量小于视频消耗速率，容易产生停滞时延</li><li data-line="2">流行的视频可能经相同的通信链路发送多次</li><li data-line="3">单点故障，如果数据中心或其通向因特网的链路崩溃，它将不能够分发任何视频流</li></ol></li><li data-line="4">内容分发网 (Content Distribution Network, CDN)：CDN 管理分布在多个地理位置上的服务器，在它的服务器中存储视频（和其他类型的 Web 内容，包括文档、图片和音频）的副本，并且所有试图将每个用户请求定向到一个将提供最好的用户体验的 CDN 位置</li><li data-line="5">CDN 服务器安置原则<ol><li data-line="6">深入：该原则是通过在遍及全球的接入 ISP 中部署服务器集群来深入到 ISP 的接入网中，但因为这种高度分布式设计，维护和管理集群的任务成为挑战</li><li data-line="7">邀请做客：通过在少量关键位置建造大集群来邀请到 ISP 做客，邀请做客设计通常产生较低的维护和管理开销，可能以对端用户的较高时延和较低吞吐量为代价</li></ol></li></ol></div><div class="heading-wrapper"><h3 data-heading="CDN 操作" class="heading" id="CDN_操作"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>CDN 操作<div class="heading-after">...</div></h3><div class="heading-children"></div></div><div class="heading-wrapper"><h3 data-heading="集群选择策略" class="heading" id="集群选择策略"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>集群选择策略<div class="heading-after">...</div></h3><div class="heading-children"><div><ul><li data-line="0"><a data-tooltip-position="top" aria-label="https://blog.skk.moe/post/i-have-my-unique-dns-setup/#Zhong-Chang-Xiu-Xi-Di-Gui-DNS-Shi-Zen-Me-Zhi-Dao-Na-Ge-CDN-Jie-Dian-Ju-Chi-Wo-Zui-Jin-De" rel="noopener" class="external-link" href="https://blog.skk.moe/post/i-have-my-unique-dns-setup/#Zhong-Chang-Xiu-Xi-Di-Gui-DNS-Shi-Zen-Me-Zhi-Dao-Na-Ge-CDN-Jie-Dian-Ju-Chi-Wo-Zui-Jin-De" target="_blank">Sukka - 我有特别的 DNS 配置和使用技巧</a></li></ul></div><div><ol><li data-line="0">集群选择策略 (cluster selection strategy)：动态地将客户定向到 CDN 中的某个服务器集群或数据中心<ol><li data-line="1">地理上最为领近 (geographically closest)<ol><li data-line="2">一种所有基于 DNS 的方法都内在具有的问题是，某些端用户配置使用位于远地的 LONS</li><li data-line="3">就网络路径的长度或跳数而言，地理最邻近的集群可能并不是最近的集群</li></ol></li><li data-line="4">实时测量 (real-time measurement)<ol><li data-line="5">CDN 能够让它的每个集群周期性地向位于全世界的所有 LDNS 发送探测分组</li><li data-line="6">但是许多 LDNS 被配置为不会响应这些探测</li></ol></li></ol></li></ol></div><div class="mod-footer"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder"><div class="graph-view-container"><div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div><canvas id="graph-canvas" width="512px" height="512px"></canvas></div></div></div><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#应用层协议原理"><span class="tree-item-title"><p>应用层协议原理</p></span></a></div><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#互联网应用程序体系结构"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>互联网应用程序体系结构</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#客户-服务器_(client-server)"><span class="tree-item-title"><p>客户-服务器 (client-server)</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#P2P"><span class="tree-item-title"><p>P2P</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#进程通信"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>进程通信</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#客户和服务器进程"><span class="tree-item-title"><p>客户和服务器进程</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#进程和计算机网络间的接口"><span class="tree-item-title"><p>进程和计算机网络间的接口</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#进程寻址"><span class="tree-item-title"><p>进程寻址</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#可供应用程序使用的运输服务"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>可供应用程序使用的运输服务</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#可靠数据传输"><span class="tree-item-title"><p>可靠数据传输</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#吞吐量"><span class="tree-item-title"><p>吞吐量</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#定时"><span class="tree-item-title"><p>定时</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#安全性"><span class="tree-item-title"><p>安全性</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#因特网提供的运输服务"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>因特网提供的运输服务</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#TCP_服务"><span class="tree-item-title"><p>TCP 服务</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#UDP_服务"><span class="tree-item-title"><p>UDP 服务</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#因特网运输协议所不提供的服务"><span class="tree-item-title"><p>因特网运输协议所不提供的服务</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#应用层协议"><span class="tree-item-title"><p>应用层协议</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Web_和_HTTP"><span class="tree-item-title"><p>Web 和 HTTP</p></span></a></div><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#HTTP_概况"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>HTTP 概况</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#非持续连接和持续连接"><span class="tree-item-title"><p>非持续连接和持续连接</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#HTTP_报文格式"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>HTTP 报文格式</p></span></a></div><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#HTTP_请求报文"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>HTTP 请求报文</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#请求报文的通用格式"><span class="tree-item-title"><p>请求报文的通用格式</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#HTTP_响应报文"><span class="tree-item-title"><p>HTTP 响应报文</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Cookie"><span class="tree-item-title"><p>Cookie</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Web_缓存"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>Web 缓存</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#减少机构的接入到因特网的通信量的例子"><span class="tree-item-title"><p>减少机构的接入到因特网的通信量的例子</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#条件请求"><span class="tree-item-title"><p>条件请求</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Email"><span class="tree-item-title"><p>Email</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#简单邮件传输协议"><span class="tree-item-title"><p>简单邮件传输协议</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#邮件访问协议"><span class="tree-item-title"><p>邮件访问协议</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#POP3"><span class="tree-item-title"><p>POP3</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="4"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#IMAP"><span class="tree-item-title"><p>IMAP</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#DNS"><span class="tree-item-title"><p>DNS</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#DNS_报文格式"><span class="tree-item-title"><p>DNS 报文格式</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#在_DNS_数据库中插入记录"><span class="tree-item-title"><p>在 DNS 数据库中插入记录</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#P2P_文件分发"><span class="tree-item-title"><p>P2P 文件分发</p></span></a></div><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#P2P_体系结构的扩展性"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>P2P 体系结构的扩展性</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#客户-服务器体系结构"><span class="tree-item-title"><p>客户-服务器体系结构</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#P2P_体系结构"><span class="tree-item-title"><p>P2P 体系结构</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#BitTorrent"><span class="tree-item-title"><p>BitTorrent</p></span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#视频流和内容分发网"><span class="tree-item-title"><p>视频流和内容分发网</p></span></a></div><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#内容分发网"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><p>内容分发网</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#CDN_操作"><span class="tree-item-title"><p>CDN 操作</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#集群选择策略"><span class="tree-item-title"><p>集群选择策略</p></span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>