1. 控制平面不仅控制沿着从源主机到目的主机的端到端路径间的路由器如何转发数据报，而且控制网络层组件和服务如何配置和管理
2. OSPF 是一种运行在单一 ISP 网络中的路由选择算法，BGP 是一种在因特网中用于互联所有网络的路由选择算法
# 概述
1. 计算、维护和安装转发表与流表的方法：
	1. `每路由器控制`：每台路由器有一个路由选择组件，用于与其他路由器中的路由选择组件通信，以计算其转发表的值，OSPF 和 BGP 协议都基于这种方法
	2. `逻辑集中式控制`：[[网络层-数据平面#^7fd436|通用转发]] 允许执行除了传统 IP 转发外的其他功能，这些功能原来通常是在单独的[[网络层-数据平面#^cebafe|中间盒]] 中实现的
2. 每路由器控制和逻辑集中式控制之间的**关键差异**：路由器中的控制组件能否相互交互并主动参与计算转发表 ![[Pasted image 20231122115215.png]]
3. 逻辑集中式控制路由选择控制服务出于容错和性能扩展性的原因，很可能由多个服务器实现
# 路由选择算法
1. 路由选择算法 (routing algorithm) 的目的：从发送方到接收方的过程中确定一条通过路由器网络的好的路径 ![[Pasted image 20231122120530.png]]
2. 图 (graph) $G=(N,E)$ 是一个 $N$ 个节点和 $E$ 条边的集合，每条边是取自 $N$ 的一对节点，用 $c(x,y)$ 表示连接节点 $x$ 和 $y$ 边的开销，如果 $(x,y)$ 不属于 $E$，则 $c(x,y)=\infty$ ，如果属于 $E$ 则节点 $y$ 为节点 $x$ 的领居(neighbor)  ![[Pasted image 20231122161720.png|400]]
3. 路由选择算法的目标找出从源到目的地间的最低开销路径 (least-cost path)，若图中的所有边具有相同的开销，则最低开销路径也是最短路径 (shortest path)
4. 路由选择算法分类：
	1. 根据集中式还是分散式
		1. `集中式路由选择算法(centralized routing algorithm)`：用完整的、全局性的网络知识计算出从源到目的地之间的最低开销路径，具有全局状态信息的算法常被称作链路状态 (Link State, LS) 算法
		2. `分散式路由选择算法(decetralized routing algorithm)`：路由器以迭代、分布式的方式计算出最低开销路径。没有节点拥有关于所有网络链路开销的完整信息，之后学习的距离向量 (Distance-Vector, DV) 算法就是分散式路由选择算法
	2. 根据静态的还是动态的
		1. `静态路由选择算法(static routing algorithm)`：路由随时间变化慢，通常是人工调整
		2. `动态路由选择算法(dynamic routing algorithm)`：随着网络流量负载或拓扑发生变化而变化
	3. 根据负载敏感还是负载迟钝
		1. `负载敏感算法(load-sensitive algorithm)`：链路开销动态变化以反映出底层链路的当前拥塞水平
		2. `负载迟钝算法(load-insentitive algorithm)`：链路开销不明确反映拥塞水平
## LS 算法
1. 实践中是让每个节点向网络中的所有其他节点广播链路状态分组来实现 (链路状态广播 link state broadcast 算法)
2. 所有节点都拥有网络的完整视图
3. Dijkstra 算法：计算从某节点到达网络中所有其他节点的最低开销路径
	1. 经过算法的 $k$ 次迭代后，可知道 $k$ 个目的节点的最低开销路径